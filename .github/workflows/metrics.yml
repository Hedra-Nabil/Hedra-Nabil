# .github/workflows/metrics.yml

name: GitHub Metrics
on:
  # هيشتغل أوتوماتيك كل 4 ساعات
  schedule:
    - cron: '0 */4 * * *'
  # هيسمحلك تشغله يدوي من صفحة Actions
  workflow_dispatch:
  # هيشتغل مع كل push على البرانش الرئيسي
  push:
    branches:
      - main # (أو master لو ده اسم البرانش الرئيسي عندك)

jobs:
  github-metrics:
    runs-on: ubuntu-latest
    permissions:
      contents: write # مهم جداً عشان الـ Action يقدر يعمل commit للصورة
    steps:
      - uses: lowlighter/metrics@latest
        with:
          # ----- الإعدادات الأساسية -----
          user: Hedra-Nabil
          token: ${{ secrets.GITHUB_TOKEN }}
          config_timezone: Africa/Cairo # ظبطتلك التوقيت عشان الـ streak

          # ----- الملف الناتج -----
          # اسم ملف الصورة اللي هيطلع، هنستخدمه في الخطوة الجاية
          output_path: github-metrics.svg 

          # ----- الإضافات (Plugins) -----
          # دي الإضافات اللي هتظهر في الصورة
          base: "header, activity, community, repositories, metadata"
          
          # ----- تخصيص الإضافات -----
          
          # الثيم (زي ما كنت مختار)
          plugin_theme: tokyonight 
          
          # إحصائيات عامة (بديل الصورة الأولى)
          plugin_stats: yes
          plugin_stats_total_commits: yes # لحساب كل الكوميتس (زي ما كنت عامل)

          # إحصائيات اللغات (بديل الصورة الأولى)
          plugin_languages: yes
          plugin_languages_limit: 8 # إظهار أكتر 8 لغات
          
          # الـ Streak (بديل الصورة التانية)
          plugin_streak: yes 
          
          # إظهار الكوميتس الخاصة (زي ما كنت عامل)
          plugin_private: yes 

          # إحصائيات السطور
          plugin_lines: yes
